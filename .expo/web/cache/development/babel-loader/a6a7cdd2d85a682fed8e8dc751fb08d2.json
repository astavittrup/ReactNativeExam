{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { CHATROOMS } from \"../../dummy.data\";\nimport { Chatroom } from \"../../entities/Chatroom\";\nimport { SUBTRACT, TOGGLE_HAPPY, ADD, ADD_CHATROOM, DELETE_CHATROOM, FETCH_CHATROOMS } from \"../actions/ChatActions\";\nvar initialState = {\n  chatrooms: [],\n  counter: 0,\n  isHappy: false,\n  name: 'Andre'\n};\n\nvar chatReducer = function chatReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        counter: state.counter + 1\n      });\n\n    case SUBTRACT:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        counter: state.counter - 1\n      });\n\n    case TOGGLE_HAPPY:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isHappy: !state.isHappy\n      });\n\n    case FETCH_CHATROOMS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        chatrooms: action.payload\n      });\n\n    case ADD_CHATROOM:\n      console.log(action.payload);\n      var chatroom = new Chatroom(action.payload.chatroomName, [], '', action.payload.id);\n      var newChatroomArray = [].concat(_toConsumableArray(state.chatrooms), [chatroom]);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        chatrooms: newChatroomArray\n      });\n\n    case DELETE_CHATROOM:\n      console.log(action.payload);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        chatrooms: state.chatrooms.filter(function (chatroom) {\n          return chatroom.id !== action.payload;\n        })\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default chatReducer;","map":{"version":3,"sources":["/Users/astavittrupgraversen/react_native/store/reducers/ChatReducer.js"],"names":["CHATROOMS","Chatroom","SUBTRACT","TOGGLE_HAPPY","ADD","ADD_CHATROOM","DELETE_CHATROOM","FETCH_CHATROOMS","initialState","chatrooms","counter","isHappy","name","chatReducer","state","action","type","payload","console","log","chatroom","chatroomName","id","newChatroomArray","filter"],"mappings":";;;;;;;AAAA,SAASA,SAAT;AACA,SAASC,QAAT;AACA,SAASC,QAAT,EAAmBC,YAAnB,EAAiCC,GAAjC,EAAsCC,YAAtC,EAAoDC,eAApD,EAAqEC,eAArE;AAEA,IAAMC,YAAY,GAAG;AACjBC,EAAAA,SAAS,EAAE,EADM;AAEjBC,EAAAA,OAAO,EAAE,CAFQ;AAGjBC,EAAAA,OAAO,EAAE,KAHQ;AAIjBC,EAAAA,IAAI,EAAE;AAJW,CAArB;;AAOA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBN,YAAyB;AAAA,MAAXO,MAAW;;AAClD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKZ,GAAL;AACI,6CAAYU,KAAZ;AAAmBJ,QAAAA,OAAO,EAAEI,KAAK,CAACJ,OAAN,GAAgB;AAA5C;;AACJ,SAAKR,QAAL;AACI,6CAAYY,KAAZ;AAAmBJ,QAAAA,OAAO,EAAEI,KAAK,CAACJ,OAAN,GAAgB;AAA5C;;AACJ,SAAKP,YAAL;AACI,6CAAYW,KAAZ;AAAmBH,QAAAA,OAAO,EAAE,CAACG,KAAK,CAACH;AAAnC;;AACJ,SAAKJ,eAAL;AACI,6CAAYO,KAAZ;AAAmBL,QAAAA,SAAS,EAAEM,MAAM,CAACE;AAArC;;AAEJ,SAAKZ,YAAL;AACIa,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACE,OAAnB;AAGA,UAAMG,QAAQ,GAAG,IAAInB,QAAJ,CAAac,MAAM,CAACE,OAAP,CAAeI,YAA5B,EAA0C,EAA1C,EAA8C,EAA9C,EAAkDN,MAAM,CAACE,OAAP,CAAeK,EAAjE,CAAjB;AAGA,UAAMC,gBAAgB,gCAAOT,KAAK,CAACL,SAAb,IAAwBW,QAAxB,EAAtB;AACA,6CAAYN,KAAZ;AAAmBL,QAAAA,SAAS,EAAEc;AAA9B;;AAEJ,SAAKjB,eAAL;AACIY,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACE,OAAnB;AACA,6CACOH,KADP;AACcL,QAAAA,SAAS,EACfK,KAAK,CAACL,SAAN,CAAgBe,MAAhB,CAAuB,UAAAJ,QAAQ;AAAA,iBAAIA,QAAQ,CAACE,EAAT,KAAgBP,MAAM,CAACE,OAA3B;AAAA,SAA/B;AAFR;;AAYJ;AACI,aAAOH,KAAP;AAnCR;AAqCH,CAtCD;;AAwCA,eAAeD,WAAf","sourcesContent":["import { CHATROOMS } from \"../../dummy.data\";\nimport { Chatroom } from \"../../entities/Chatroom\";\nimport { SUBTRACT, TOGGLE_HAPPY, ADD, ADD_CHATROOM, DELETE_CHATROOM, FETCH_CHATROOMS } from \"../actions/ChatActions\";\n\nconst initialState = {\n    chatrooms: [],\n    counter: 0,\n    isHappy: false,\n    name: 'Andre'\n};\n\nconst chatReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD:\n            return { ...state, counter: state.counter + 1 }\n        case SUBTRACT:\n            return { ...state, counter: state.counter - 1 }\n        case TOGGLE_HAPPY:\n            return { ...state, isHappy: !state.isHappy }\n        case FETCH_CHATROOMS:\n            return { ...state, chatrooms: action.payload }\n\n        case ADD_CHATROOM:\n            console.log(action.payload); // Should print out the chatroomName\n            //state.chatrooms.push(chatroom); // mutate chatrroms array! Not Allowed!\n\n            const chatroom = new Chatroom(action.payload.chatroomName, [], '', action.payload.id);\n            // const chatroom = { title: action.payload, chatmessages: [], imageUrl: ''}\n\n            const newChatroomArray = [...state.chatrooms, chatroom];\n            return { ...state, chatrooms: newChatroomArray };\n\n        case DELETE_CHATROOM:\n            console.log(action.payload);\n            return {\n                ...state, chatrooms:\n                    state.chatrooms.filter(chatroom => chatroom.id !== action.payload)\n            }\n\n\n\n        //            return {...state, chatrooms: [...state.chatrooms, {title: action.payload}]}\n\n\n        // state.isHappy = !state.isHappy; // not allowed, it mutates the prior state\n\n        default:\n            return state; //does not do anything yetâ€‹   \n    }\n};\n\nexport default chatReducer;"]},"metadata":{},"sourceType":"module"}