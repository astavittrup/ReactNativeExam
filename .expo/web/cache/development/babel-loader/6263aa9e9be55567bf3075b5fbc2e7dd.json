{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _Chatroom = require(\"../../entities/Chatroom\");\n\nvar _ChatActions = require(\"../actions/ChatActions\");\n\nvar initialState = {\n  chatrooms: [],\n  counter: 0,\n  isHappy: false,\n  name: 'Asta'\n};\n\nvar chatReducer = function chatReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case _ChatActions.ADD:\n      return (0, _extends2.default)({}, state, {\n        counter: state.counter + 1\n      });\n\n    case _ChatActions.SUBTRACT:\n      return (0, _extends2.default)({}, state, {\n        counter: state.counter - 1\n      });\n\n    case _ChatActions.TOGGLE_HAPPY:\n      return (0, _extends2.default)({}, state, {\n        isHappy: !state.isHappy\n      });\n\n    case _ChatActions.FETCH_CHATROOMS:\n      return (0, _extends2.default)({}, state, {\n        chatrooms: action.payload\n      });\n\n    case _ChatActions.ADD_CHATROOM:\n      console.log(action.payload);\n      var chatroom = new _Chatroom.Chatroom(action.payload.chatroomName, [], '', action.payload.id);\n      var newChatroomArray = [].concat((0, _toConsumableArray2.default)(state.chatrooms), [chatroom]);\n      return (0, _extends2.default)({}, state, {\n        chatrooms: newChatroomArray\n      });\n\n    case _ChatActions.DELETE_CHATROOM:\n      console.log(action.payload);\n      return (0, _extends2.default)({}, state, {\n        chatrooms: state.chatrooms.filter(function (chatroom) {\n          return chatroom.id !== action.payload;\n        })\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar _default = chatReducer;\nexports.default = _default;","map":{"version":3,"names":["initialState","chatrooms","counter","isHappy","name","chatReducer","state","action","type","ADD","SUBTRACT","TOGGLE_HAPPY","FETCH_CHATROOMS","payload","ADD_CHATROOM","console","log","chatroom","Chatroom","chatroomName","id","newChatroomArray","DELETE_CHATROOM","filter"],"sources":["/Users/astavittrupgraversen/repo/ReactNativeExam/store/reducers/ChatReducer.js"],"sourcesContent":["import { Chatroom } from \"../../entities/Chatroom\";\nimport { SUBTRACT, TOGGLE_HAPPY, ADD, ADD_CHATROOM, DELETE_CHATROOM, FETCH_CHATROOMS } from \"../actions/ChatActions\";\n\nconst initialState = {\n    chatrooms: [],\n    counter: 0,\n    isHappy: false,\n    name: 'Asta'\n};\n\nconst chatReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD:\n            return { ...state, counter: state.counter + 1 }\n        case SUBTRACT:\n            return { ...state, counter: state.counter - 1 }\n        case TOGGLE_HAPPY:\n            return { ...state, isHappy: !state.isHappy }\n        case FETCH_CHATROOMS:\n            return { ...state, chatrooms: action.payload }\n\n        case ADD_CHATROOM:\n            console.log(action.payload); // Should print out the chatroomName\n            //state.chatrooms.push(chatroom); // mutate chatrroms array! Not Allowed!\n\n            const chatroom = new Chatroom(action.payload.chatroomName, [], '', action.payload.id);\n            // const chatroom = { title: action.payload, chatmessages: [], imageUrl: ''}\n\n            const newChatroomArray = [...state.chatrooms, chatroom];\n            return { ...state, chatrooms: newChatroomArray };\n\n        case DELETE_CHATROOM:\n            console.log(action.payload);\n            return {\n                ...state, chatrooms:\n                    state.chatrooms.filter(chatroom => chatroom.id !== action.payload)\n            }\n\n\n\n        //            return {...state, chatrooms: [...state.chatrooms, {title: action.payload}]}\n\n\n        // state.isHappy = !state.isHappy; // not allowed, it mutates the prior state\n\n        default:\n            return state; //does not do anything yetâ€‹   \n    }\n};\n\nexport default chatReducer;"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,YAAY,GAAG;EACjBC,SAAS,EAAE,EADM;EAEjBC,OAAO,EAAE,CAFQ;EAGjBC,OAAO,EAAE,KAHQ;EAIjBC,IAAI,EAAE;AAJW,CAArB;;AAOA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAkC;EAAA,IAAjCC,KAAiC,uEAAzBN,YAAyB;EAAA,IAAXO,MAAW;;EAClD,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKC,gBAAL;MACI,kCAAYH,KAAZ;QAAmBJ,OAAO,EAAEI,KAAK,CAACJ,OAAN,GAAgB;MAA5C;;IACJ,KAAKQ,qBAAL;MACI,kCAAYJ,KAAZ;QAAmBJ,OAAO,EAAEI,KAAK,CAACJ,OAAN,GAAgB;MAA5C;;IACJ,KAAKS,yBAAL;MACI,kCAAYL,KAAZ;QAAmBH,OAAO,EAAE,CAACG,KAAK,CAACH;MAAnC;;IACJ,KAAKS,4BAAL;MACI,kCAAYN,KAAZ;QAAmBL,SAAS,EAAEM,MAAM,CAACM;MAArC;;IAEJ,KAAKC,yBAAL;MACIC,OAAO,CAACC,GAAR,CAAYT,MAAM,CAACM,OAAnB;MAGA,IAAMI,QAAQ,GAAG,IAAIC,kBAAJ,CAAaX,MAAM,CAACM,OAAP,CAAeM,YAA5B,EAA0C,EAA1C,EAA8C,EAA9C,EAAkDZ,MAAM,CAACM,OAAP,CAAeO,EAAjE,CAAjB;MAGA,IAAMC,gBAAgB,8CAAOf,KAAK,CAACL,SAAb,IAAwBgB,QAAxB,EAAtB;MACA,kCAAYX,KAAZ;QAAmBL,SAAS,EAAEoB;MAA9B;;IAEJ,KAAKC,4BAAL;MACIP,OAAO,CAACC,GAAR,CAAYT,MAAM,CAACM,OAAnB;MACA,kCACOP,KADP;QACcL,SAAS,EACfK,KAAK,CAACL,SAAN,CAAgBsB,MAAhB,CAAuB,UAAAN,QAAQ;UAAA,OAAIA,QAAQ,CAACG,EAAT,KAAgBb,MAAM,CAACM,OAA3B;QAAA,CAA/B;MAFR;;IAYJ;MACI,OAAOP,KAAP;EAnCR;AAqCH,CAtCD;;eAwCeD,W"},"metadata":{},"sourceType":"script"}