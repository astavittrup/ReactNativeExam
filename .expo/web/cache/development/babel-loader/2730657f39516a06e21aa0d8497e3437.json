{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as SecureStore from 'expo-secure-store';\nexport var SIGNUP = 'SIGNUP';\nexport var LOGIN = 'LOGIN';\nexport var RESTORE_USER = 'RESTORE_USER';\nexport var restoreUser = function restoreUser(email, token) {\n  return {\n    type: RESTORE_USER,\n    payload: {\n      email: email,\n      idToken: token\n    }\n  };\n};\nexport var login = function login(email, password) {\n  return function _callee(dispatch) {\n    var response;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(fetch('https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDl9YBM32ozw7O0PP75nE52xpzWf_MZ4w4', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                email: email,\n                password: password,\n                returnSecureToken: true\n              })\n            }));\n\n          case 2:\n            response = _context.sent;\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\nexport var signup = function signup(email, password) {\n  return function _callee2(dispatch) {\n    var response, data;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(fetch('https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDl9YBM32ozw7O0PP75nE52xpzWf_MZ4w4', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                email: email,\n                password: password,\n                returnSecureToken: true\n              })\n            }));\n\n          case 2:\n            response = _context2.sent;\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 5:\n            data = _context2.sent;\n            console.log(data);\n\n            if (response.ok) {\n              _context2.next = 10;\n              break;\n            }\n\n            _context2.next = 15;\n            break;\n\n          case 10:\n            _context2.next = 12;\n            return _regeneratorRuntime.awrap(SecureStore.setItemAsync('email', data.email));\n\n          case 12:\n            _context2.next = 14;\n            return _regeneratorRuntime.awrap(SecureStore.setItemAsync('token', data.idToken));\n\n          case 14:\n            dispatch({\n              type: SIGNUP,\n              payload: {\n                email: data.email,\n                idToken: data.idToken\n              }\n            });\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};","map":{"version":3,"names":["SecureStore","SIGNUP","LOGIN","RESTORE_USER","restoreUser","email","token","type","payload","idToken","login","password","dispatch","fetch","method","headers","body","JSON","stringify","returnSecureToken","response","signup","json","data","console","log","ok","setItemAsync"],"sources":["/Users/astavittrupgraversen/Desktop/react_native 2/store/actions/UserActions.js"],"sourcesContent":["import * as SecureStore from 'expo-secure-store';\n\nexport const SIGNUP = 'SIGNUP';\nexport const LOGIN = 'LOGIN';\nexport const RESTORE_USER = 'RESTORE_USER';\n\n\nexport const restoreUser = (email, token) => {\n    return { type: RESTORE_USER, payload: { email, idToken: token } };\n};\n\nexport const login = (email, password) => {\n    return async dispatch => {\n        const response = await fetch ('https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDl9YBM32ozw7O0PP75nE52xpzWf_MZ4w4', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                email: email,\n                password: password,\n                returnSecureToken: true\n            }\n\n            )\n            \n        })\n    }\n}\n\nexport const signup = (email, password) => {\n    return async dispatch => {\n        const response = await fetch('https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDl9YBM32ozw7O0PP75nE52xpzWf_MZ4w4', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ //javascript to json\n                //key value pairs of data you want to send to server\n                // ...\n                email: email,\n                password: password,\n                returnSecureToken: true\n            })\n        });\n\n\n        \n\n        // console.log(await response.json());\n\n        const data = await response.json(); // json to javascript\n        console.log(data);\n        if (!response.ok) {\n            //There was a problem..\n        } else {\n            await SecureStore.setItemAsync('email', data.email);\n            await SecureStore.setItemAsync('token', data.idToken);\n            dispatch({ type: SIGNUP, payload: { email: data.email, idToken: data.idToken } })\n        }\n    };\n};\n\n    "],"mappings":";AAAA,OAAO,KAAKA,WAAZ,MAA6B,mBAA7B;AAEA,OAAO,IAAMC,MAAM,GAAG,QAAf;AACP,OAAO,IAAMC,KAAK,GAAG,OAAd;AACP,OAAO,IAAMC,YAAY,GAAG,cAArB;AAGP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAQC,KAAR,EAAkB;EACzC,OAAO;IAAEC,IAAI,EAAEJ,YAAR;IAAsBK,OAAO,EAAE;MAAEH,KAAK,EAALA,KAAF;MAASI,OAAO,EAAEH;IAAlB;EAA/B,CAAP;AACH,CAFM;AAIP,OAAO,IAAMI,KAAK,GAAG,SAARA,KAAQ,CAACL,KAAD,EAAQM,QAAR,EAAqB;EACtC,OAAO,iBAAMC,QAAN;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACoBC,KAAK,CAAE,mHAAF,EAAuH;cAC/IC,MAAM,EAAE,MADuI;cAE/IC,OAAO,EAAE;gBACL,gBAAgB;cADX,CAFsI;cAK/IC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;gBACjBb,KAAK,EAAEA,KADU;gBAEjBM,QAAQ,EAAEA,QAFO;gBAGjBQ,iBAAiB,EAAE;cAHF,CAAf;YALyI,CAAvH,CADzB;;UAAA;YACGC,QADH;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAP;AAgBH,CAjBM;AAmBP,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAChB,KAAD,EAAQM,QAAR,EAAqB;EACvC,OAAO,kBAAMC,QAAN;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACoBC,KAAK,CAAC,uGAAD,EAA0G;cAClIC,MAAM,EAAE,MAD0H;cAElIC,OAAO,EAAE;gBACL,gBAAgB;cADX,CAFyH;cAKlIC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;gBAGjBb,KAAK,EAAEA,KAHU;gBAIjBM,QAAQ,EAAEA,QAJO;gBAKjBQ,iBAAiB,EAAE;cALF,CAAf;YAL4H,CAA1G,CADzB;;UAAA;YACGC,QADH;YAAA;YAAA,iCAoBgBA,QAAQ,CAACE,IAAT,EApBhB;;UAAA;YAoBGC,IApBH;YAqBHC,OAAO,CAACC,GAAR,CAAYF,IAAZ;;YArBG,IAsBEH,QAAQ,CAACM,EAtBX;cAAA;cAAA;YAAA;;YAAA;YAAA;;UAAA;YAAA;YAAA,iCAyBO1B,WAAW,CAAC2B,YAAZ,CAAyB,OAAzB,EAAkCJ,IAAI,CAAClB,KAAvC,CAzBP;;UAAA;YAAA;YAAA,iCA0BOL,WAAW,CAAC2B,YAAZ,CAAyB,OAAzB,EAAkCJ,IAAI,CAACd,OAAvC,CA1BP;;UAAA;YA2BCG,QAAQ,CAAC;cAAEL,IAAI,EAAEN,MAAR;cAAgBO,OAAO,EAAE;gBAAEH,KAAK,EAAEkB,IAAI,CAAClB,KAAd;gBAAqBI,OAAO,EAAEc,IAAI,CAACd;cAAnC;YAAzB,CAAD,CAAR;;UA3BD;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAP;AA8BH,CA/BM"},"metadata":{},"sourceType":"module"}