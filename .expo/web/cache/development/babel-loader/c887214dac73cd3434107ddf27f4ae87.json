{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { restoreUser, signup } from \"./../store/actions/UserActions\";\nimport * as SecureStore from 'expo-secure-store';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar SignupScreen = function SignupScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var dispatch = useDispatch();\n\n  function load() {\n    var emailFromSecureStore, tokenFromSecureStore;\n    return _regeneratorRuntime.async(function load$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(SecureStore.getItemAsync('email'));\n\n          case 2:\n            emailFromSecureStore = _context.sent;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(SecureStore.getItemAsync('token'));\n\n          case 5:\n            tokenFromSecureStore = _context.sent;\n\n            if (emailFromSecureStore && tokenFromSecureStore) {\n              console.log(\"success\", emailFromSecureStore);\n              dispatch(restoreUser(emailFromSecureStore, tokenFromSecureStore));\n            } else {\n              console.log(\"failure\");\n            }\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {}, []);\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsxs(View, {\n      children: [_jsx(Text, {\n        children: \"Signup\"\n      }), _jsx(TextInput, {\n        style: styles.textInput,\n        placeholder: \"Enter your email\",\n        onChangeText: setEmail,\n        value: email\n      }), _jsx(TextInput, {\n        style: styles.textInput,\n        placeholder: \"Enter your password here\",\n        onChangeText: setPassword,\n        value: password\n      }), _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(Button, {\n          title: \"Signup\",\n          onPress: function onPress() {\n            return dispatch(signup(email, password));\n          }\n        }), _jsx(Button, {\n          style: styles.textInput,\n          title: \"Login Instead\",\n          color: \"#f194ff\",\n          onPress: function onPress() {\n            return navigation.navigate(\"Login\");\n          }\n        })]\n      })]\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  test: {},\n  textInput: {\n    padding: 15,\n    maxWidth: 250,\n    paddingHorizontal: 15,\n    backgroundColor: '#FFF',\n    borderRadius: 60,\n    borderColor: '#C0C0C0',\n    borderWidth: 1\n  }\n});\nexport default SignupScreen;","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","restoreUser","signup","SecureStore","SafeAreaView","SignupScreen","navigation","email","setEmail","password","setPassword","dispatch","load","getItemAsync","emailFromSecureStore","tokenFromSecureStore","console","log","styles","container","textInput","navigate","StyleSheet","create","flex","justifyContent","alignItems","test","padding","maxWidth","paddingHorizontal","backgroundColor","borderRadius","borderColor","borderWidth"],"sources":["/Users/astavittrupgraversen/Desktop/react_native 2/screens/SignupScreen.jsx"],"sourcesContent":["import { View, Text, TextInput, Button, StyleSheet } from 'react-native';\nimport { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { restoreUser, signup } from './../store/actions/UserActions'\nimport * as SecureStore from 'expo-secure-store';\nimport { SafeAreaView } from 'react-native-safe-area-context';\n\nconst SignupScreen = ({ navigation }) => {\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const dispatch = useDispatch()\n\n    // const token = useSelector(state => state.user.idToken)\n    // const emailTest = useSelector(state => state.user.email)\n    // console.log(token);\n    // console.log(emailTest);\n\n    async function load() {\n        let emailFromSecureStore = await SecureStore.getItemAsync('email');\n        let tokenFromSecureStore = await SecureStore.getItemAsync('token');\n        if (emailFromSecureStore && tokenFromSecureStore) {\n            console.log(\"success\", emailFromSecureStore);\n            dispatch(restoreUser(emailFromSecureStore, tokenFromSecureStore));\n        } else {\n            console.log(\"failure\");\n        }\n    }\n    // read from secure store\n    useEffect(() => {\n        // load(); // comment out in order to work in browser \n    }, [])\n\n\n    return (\n      <SafeAreaView style={styles.container}>\n        <View>\n            <Text>Signup</Text>\n            <TextInput \n             style={styles.textInput}\n            placeholder='Enter your email'\n                onChangeText={setEmail}\n                value={email} />\n\n            <TextInput \n             style={styles.textInput}\n            placeholder='Enter your password here'\n                onChangeText={setPassword}\n                value={password} />\n<View style={styles.container}>\n            <Button title=\"Signup\" onPress={() => dispatch(signup(email, password))} />\n           \n          \n            <Button \n            style={styles.textInput}\n            title=\"Login Instead\"\n            color=\"#f194ff\"\n         onPress={() => navigation.navigate(\"Login\")} />\n             </View> \n        </View>\n        </SafeAreaView>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n\n    test: {\n\n    },\n\n    textInput: {\n        padding: 15,\n        maxWidth: 250,\n        paddingHorizontal: 15,\n        backgroundColor: '#FFF',\n        borderRadius: 60,\n        borderColor: '#C0C0C0',\n        borderWidth: 1\n    },\n\n});\n\n\nexport default SignupScreen;"],"mappings":";;;;;;;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,EAAsBC,MAAtB;AACA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;AACA,SAASC,YAAT,QAA6B,gCAA7B;;;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAoB;EAAA,IAAjBC,UAAiB,QAAjBA,UAAiB;;EACrC,gBAA0BR,QAAQ,CAAC,EAAD,CAAlC;EAAA;EAAA,IAAOS,KAAP;EAAA,IAAcC,QAAd;;EACA,iBAAgCV,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOW,QAAP;EAAA,IAAiBC,WAAjB;;EACA,IAAMC,QAAQ,GAAGZ,WAAW,EAA5B;;EAOA,SAAea,IAAf;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACqCT,WAAW,CAACU,YAAZ,CAAyB,OAAzB,CADrC;;UAAA;YACQC,oBADR;YAAA;YAAA,iCAEqCX,WAAW,CAACU,YAAZ,CAAyB,OAAzB,CAFrC;;UAAA;YAEQE,oBAFR;;YAGI,IAAID,oBAAoB,IAAIC,oBAA5B,EAAkD;cAC9CC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBH,oBAAvB;cACAH,QAAQ,CAACV,WAAW,CAACa,oBAAD,EAAuBC,oBAAvB,CAAZ,CAAR;YACH,CAHD,MAGO;cACHC,OAAO,CAACC,GAAR,CAAY,SAAZ;YACH;;UARL;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA;;EAWApB,SAAS,CAAC,YAAM,CAEf,CAFQ,EAEN,EAFM,CAAT;EAKA,OACE,KAAC,YAAD;IAAc,KAAK,EAAEqB,MAAM,CAACC,SAA5B;IAAA,UACE,MAAC,IAAD;MAAA,WACI,KAAC,IAAD;QAAA;MAAA,EADJ,EAEI,KAAC,SAAD;QACC,KAAK,EAAED,MAAM,CAACE,SADf;QAEA,WAAW,EAAC,kBAFZ;QAGI,YAAY,EAAEZ,QAHlB;QAII,KAAK,EAAED;MAJX,EAFJ,EAQI,KAAC,SAAD;QACC,KAAK,EAAEW,MAAM,CAACE,SADf;QAEA,WAAW,EAAC,0BAFZ;QAGI,YAAY,EAAEV,WAHlB;QAII,KAAK,EAAED;MAJX,EARJ,EAaR,MAAC,IAAD;QAAM,KAAK,EAAES,MAAM,CAACC,SAApB;QAAA,WACY,KAAC,MAAD;UAAQ,KAAK,EAAC,QAAd;UAAuB,OAAO,EAAE;YAAA,OAAMR,QAAQ,CAACT,MAAM,CAACK,KAAD,EAAQE,QAAR,CAAP,CAAd;UAAA;QAAhC,EADZ,EAIY,KAAC,MAAD;UACA,KAAK,EAAES,MAAM,CAACE,SADd;UAEA,KAAK,EAAC,eAFN;UAGA,KAAK,EAAC,SAHN;UAIH,OAAO,EAAE;YAAA,OAAMd,UAAU,CAACe,QAAX,CAAoB,OAApB,CAAN;UAAA;QAJN,EAJZ;MAAA,EAbQ;IAAA;EADF,EADF;AA4BH,CAtDD;;AAwDA,IAAMH,MAAM,GAAGI,UAAU,CAACC,MAAX,CAAkB;EAC7BJ,SAAS,EAAE;IACPK,IAAI,EAAE,CADC;IAEPC,cAAc,EAAE,QAFT;IAGPC,UAAU,EAAE;EAHL,CADkB;EAO7BC,IAAI,EAAE,EAPuB;EAW7BP,SAAS,EAAE;IACPQ,OAAO,EAAE,EADF;IAEPC,QAAQ,EAAE,GAFH;IAGPC,iBAAiB,EAAE,EAHZ;IAIPC,eAAe,EAAE,MAJV;IAKPC,YAAY,EAAE,EALP;IAMPC,WAAW,EAAE,SANN;IAOPC,WAAW,EAAE;EAPN;AAXkB,CAAlB,CAAf;AAwBA,eAAe7B,YAAf"},"metadata":{},"sourceType":"module"}